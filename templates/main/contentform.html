<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
  {% extends 'base.html' %} <!-- 템플릿 상속 -->
  {% block content %}
  {% load humanize %}
  <div id="container-5">
    <div id="left-sidebar">

      <div id="wrapper" style="width=100%;">
          <div style="width:10%; height:80%; float:left;">
              <div class="topbar" style="position: absolute; margin-left:50px; top:25%;">
              <div class="left_sub_menu">
                  <div class="sub_menu">
                  <ul class="big_menu">
                      <li><button class="btn1">
                          <a class = "aa" href="{% url 'main:product' %}">상품</a>
                      </button></li>
                      <li><button class="btn1"><a class = "aa" href="{% url 'main:price' %}">가격 랭킹</a></button></li>
                      <li><button class="btn1"><a class = "aa" href="{% url 'main:contentform' %}">함유량 랭킹</a></button></li>
                      <li><button class="btn1"><a class = "aa" href="{% url 'pybo:index' %}">게시판</a></button></li>
                      <li><button class="btn1"><a class = "aa" href="{% url 'main:mypage' %}" >마이 페이지</a></button></li>
                  </ul>
                  </div>
              </div>
          </div>

          </div>

      <br>
      <br>
      <hr>
      </div>

    </div>
    <div id="center-sidebar" style="text-align:center">
            <div style="text-align:right;">
                <div class="col-4">
                    <div class="input-group">
                        <input type="text" id="search_kw" placeholder="제목 OR 내용" class="form-control" value="{{ kw|default_if_none:''}}">
                        <div class="input-group-append">
                            <button class="btn btn-outline-secondary" type="button" id="btn_search">찾기</button>
                        </div>
                    </div>
                </div>
            </div>
        <div class="container my-3">
        <table class="table">
            <thead>
            <tr class="table-warning text-center">
                <th>No</th>
                <th>브랜드명</th>
                <th>제품명</th>
                <th>가격</th>
                <th>함유량</th>
            </tr>
            </thead>
            <tbody>
            {% if p_list %}
            {% for pdb in p_list %}
            <tr>
                <td>{{ forloop.counter }}</td>
                <td>{{ pdb.brand }}</td>
                <td>{{ pdb.name }}</td>
                <td>{{ pdb.price|intcomma }}</td>
                <td>{{ pdb.maintain|intcomma }}</td>
            </tr>
            {% endfor %}
            {% else %}
            <tr>
                <td>상품목록이 없습니다.</td>
            </tr>
            {% endif %}
            </tbody>
        </table>
                <!-- 페이징처리 -->
                <ul class="pagination justify-content-center">
                    <!-- 이전페이지 -->
                    {% if p_list.has_previous %}
                    <li class="page-item">
                        <a class="page-link" href="?page={{ p_list.previous_page_number }}">
                            <span aria-hidden="true">&laquo;</span>
                        </a>
                    </li>
                    {% else %}
                    <li class="page-item disabled">
                        <a class="page-link" tabindex="-1" aria-disabled="true" href="#">
                            <span aria-hidden="true">&laquo;</span>
                        </a>
                    </li>
                    {% endif %}
                    <!-- 페이지리스트 -->
                    {% for page_number in p_list.paginator.page_range %}
                    {% if page_number >= p_list.number|add:-5 and page_number <= p_list.number|add:5 %}
                    {% if page_number == p_list.number %}
                    <li class="page-item active" aria-current="page">
                        <a class="page-link" href="?page={{ page_number }}">{{ page_number }}</a>
                    </li>
                    {% else %}
                    <li class="page-item">
                        <a class="page-link" href="?page={{ page_number }}">{{ page_number }}</a>
                    </li>
                    {% endif %}
                    {% endif %}
                    {% endfor %}
                    <!-- 다음페이지 -->
                    {% if p_list.has_next %}
                    <li class="page-item">
                        <a class="page-link" href="?page={{ p_list.next_page_number }}">
                            <span aria-hidden="true">&raquo;</span>
                        </a>
                    </li>
                    {% else %}
                    <li class="page-item disabled">
                        <a class="page-link" tabindex="-1" aria-disabled="true" href="#">
                            <span aria-hidden="true">&raquo;</span>
                        </a>
                    </li>
                    {% endif %}
                </ul>
                  <!-- 페이징처리 끝 -->
        </div>
    </div>
    <div id="right-sidebar"></div>


  </div>
{% endblock %}
</body>
</html>